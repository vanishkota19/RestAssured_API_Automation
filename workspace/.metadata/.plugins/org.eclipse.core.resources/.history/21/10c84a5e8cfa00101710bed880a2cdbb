package tests;

import base.BaseTest;
import client.UserClient;
import io.restassured.response.Response;
import org.testng.Assert;
import org.testng.annotations.Test;
import pojo.UserResponse;
import utils.JsonUtils;

public class CreateUserTest extends BaseTest {

    @Test
    public void createUserUsingJsonFile() {

        String jsonBody = JsonUtils.readJson(
                "src/test/resources/testdata/createUser.json");

        Response response = UserClient.createUser(jsonBody);

        Assert.assertEquals(response.statusCode(), 201);

        UserResponse userResponse = response.as(UserResponse.class);
        Assert.assertEquals(userResponse.getName(), "Vanish");
    }
}
